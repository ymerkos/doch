<!--B"H-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dach | דא״ח</title>
    <meta charset="utf-8">
    <!-- @meta Ensures proper character encoding for Hebrew and special characters -->
    
    <!-- Google Analytics tag for tracking -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8G4BNTZDFN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8G4BNTZDFN');
      /* @method Initializes Google Analytics with tracking ID G-8G4BNTZDFN */
    </script>

    <!-- External scripts and styles -->
    <script src="/scripts/installEved.js"></script> <!-- @external Custom script, purpose unclear from code -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <!-- @meta Ensures responsive design and allows user scaling -->
    
    <link rel="stylesheet" href="/style.css"> <!-- @external Main stylesheet -->
    <link rel="preconnect" href="https://fonts.googleapis.com"> <!-- @external Preconnects for faster font loading -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Hebrew:wght@100..900&display=swap" rel="stylesheet">
    <!-- @external Loads Noto Serif Hebrew font for Hebrew text rendering -->
  </head>
  <body>
    <!-- Main viewer container -->
    <div class="viewer page">
      <header class="header">
        <div class="left">
          <div class="logo"><a href="/">Dach | דא״ח</a></div> <!-- @element Site logo linking to homepage -->
          <!-- Uncomment if needed: <div class="menu-item">Community</div> <div class="menu-item">Texts</div> -->
        </div>
        <div class="right">
          <div class="hidden menu-btn loginBtn" id="loginBtn">Log in</div> <!-- @element Hidden login button -->
          <a href="mailto:info@dach.dev" class="menu-btn feedback">Feedback?</a> <!-- @element Feedback email link -->
        </div>
      </header>

      <div class="flex-container">
        <!-- Left panel with resizable box -->
        <div class="left-box" id="resizableBox">
          <div class="tab-container">
            <div class="tabs" onmousedown="startDrag(event)" ontouchstart="startDrag(event)" ondragstart="startDrag(event)">
              <!-- @event Triggers dragging for resizing on mouse/touch -->
              <div class="tab hidden" id="tab0">שיעורים</div> <!-- @element Tab for lessons (hidden) -->
              <div class="tab hidden" id="tab1">תרגומים</div> <!-- @element Tab for translations (hidden) -->
              <div class="tab hidden" id="tab2">קיצור</div> <!-- @element Tab for summary (hidden) -->
              <div class="tab">הערות</div> <!-- @element Active tab for notes -->
              <div class="tab-indicator"></div> <!-- @element Visual indicator for active tab -->
            </div>

            <!-- Tab content areas -->
            <div class="content footnotesCnt" id="content0"></div> <!-- @element Footnotes content -->
            <div class="content hidden" id="content1">
              <div class="editSecrets hidden">
                <!-- @element Hidden form for editing secrets -->
                <form id="LOL" action="/submit-form" method="post">
                  <div class="form-row">
                    <textarea name="Kitzur" id="Kitzur" placeholder="Kitzur" rows="4" class="form-item"></textarea>
                  </div>
                  <div class="form-row">
                    <input type="submit" value="Submit" class="form-item">
                  </div>
                </form>
              </div>
            </div>
            <div class="content hidden" id="content2">
              <div class="editSecrets hidden">
                <button id="transB">Translate with AI</button> <!-- @element Button to translate all -->
                <button id="transBA">Translate active paragraph</button> <!-- @element Button to translate current paragraph -->
                <br>
                <input type="checkbox" id="isOld"><label for="isOld">Use "Older" version?</label>
                <!-- @element Checkbox to toggle older translation version -->
              </div>
              <div class="translationProgress" id="translationProgress"></div> <!-- @element Progress display -->
            </div>
            <div class="content hidden" id="content3">Content for Tab 4</div> <!-- @element Placeholder content -->
          </div>
        </div>

        <!-- Right panel with main content -->
        <div class="right-box">
          <div class="app-bar">
            <div class="app-barContent">
              <div id="app-barButtons">
                <div class="menu-btn" id="showE">A</div> <!-- @element Toggle English button -->
                <div id="settingsButton" class="settingsIcon invisible toggle-button btn"></div> <!-- @element Settings button -->
              </div>
              <div class="appbar-title-container">
                <div class="default-title" id="work_title"></div> <!-- @element Dynamic title -->
              </div>
              <div id="app-barButtons" data-menu="true">
                <div id="indexButton" class="list toggle-button btn"></div> <!-- @element Index button -->
                <div id="settingsButton" class="settingsIcon toggle-button btn"></div> <!-- @element Repeated settings button -->
              </div>
            </div>
            <div id="expanded">Content for the expanded div</div> <!-- @element Expandable content -->
          </div>
          <div class="paragraph-content">
            <div class="paragraph-container">
              <div class="loader"></div> <!-- @element Loading indicator -->
            </div>
          </div>

          <!-- Error reporting UI -->
          <div id="errorReportD" class="hidden">
            <h4>Text</h4>
            <button id="mBold">Bold</button> <!-- @element Bold formatting button -->
            <button id="mSup">Sup</button> <!-- @element Superscript formatting button -->
            <button id="errorReport">Report</button> <!-- @element Submit error report -->
            <button id="errorCancel">Cancel</button> <!-- @element Cancel error report -->
          </div>
        </div>
      </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="hide">Toast Notification</div> <!-- @element Hidden toast popup -->

    <!-- Right-click context menu -->
    <div id="right-click-menu">
      <ul>
        <li id="copy">📋 Copy Text</li> <!-- @element Copy text option -->
        <li id="print">🖨️ Print</li> <!-- @element Print page option -->
        <li id="reportErrorBtn">⚠ Report Error</li> <!-- @element Report error option -->
      </ul>
    </div>

    <!-- External module scripts -->
    <script src="/scripts/login.js" type="module"></script> <!-- @external Login functionality -->
    <script src="/viewer/viewerhighlight.js"></script> <!-- @external Highlighting logic -->
    <script src="/viewer/sichaLoading.js" type="module"></script> <!-- @external Content loading -->
    <script src="/viewer/settingsMenu.js" type="module"></script> <!-- @external Settings menu -->
    <script src="/script.js" type="module"></script> <!-- @external Main script (this file) -->
  </body>
</html>