<!--B"H-->
<!DOCTYPE html>
<html>
  <head>
    <title>Dach | דא״ח</title>
    <meta charset="utf-8">

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">


    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8G4BNTZDFN"></script>

<script type="module" src="/scripts/indexGet.js"></script>
<script type="module" src="/viewer/js/view.js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8G4BNTZDFN');
</script>
    <script src="/scripts/installEved.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/viewer/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Hebrew:wght@100..900&display=swap" rel="stylesheet">
    <script>
        function startDrag(e) {
          console.log("HI!")
          if (window.matchMedia('(max-width: 600px)').matches) {
            console.log("size?")
            let mouseY;
            if (e.touches) {
              mouseY = e.touches[0].clientY;
            } else {
              mouseY = e.clientY;
            }

            const bottomSheet =  document.querySelector('.viewer .left-box');
   
            function handleDrag(e) {
              e.preventDefault(); // Prevent pull-to-refresh behavior on mobile

              const newHeight = bottomSheet.clientHeight + mouseY - (e.touches ? e.touches[0].clientY : e.clientY);
              if (newHeight > 60) {
                bottomSheet.style.height = newHeight + 'px';
              }
              mouseY = e.touches ? e.touches[0].clientY : e.clientY;
            }

            function stopDrag() {
              document.removeEventListener('mousemove', handleDrag);
              document.removeEventListener('touchmove', handleDrag);
              document.removeEventListener('mouseup', stopDrag);
              document.removeEventListener('touchend', stopDrag);
            }

            document.addEventListener('mousemove', handleDrag);
            document.addEventListener('touchmove', handleDrag, { passive: false }); // Ensure preventDefault works
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);
        }
      }
      function increaseFont() {
      
        
        adjustFontSize(".studyContent", "increase")

        adjustFontSize(".studyContent p", "increase")
        adjustFontSize("#content0", "increase")
        adjustFontSize(".paragraph-container p.heb", "increase")
        
        adjustFontSize(".paragraph-container p.heb b", "increase")
        
        adjustFontSize(".viewer .left-box .content b", "increase")
      }

      function decreaseFont() {
        
        adjustFontSize(".studyContent", "decrease")

        adjustFontSize(".studyContent p", "decrease")
        adjustFontSize("#content0", "decrease")
        adjustFontSize(".paragraph-container p.heb", "decrease")
        
        adjustFontSize(".paragraph-container p.heb b", "decrease")
        
        adjustFontSize(".viewer .left-box .content b", "decrease")
        //
      }

      function adjustFontSize(sl, action) {
       
        const paragraphs = Array.from(document.querySelectorAll(sl));
        
        
        paragraphs.forEach(paragraph => {
          const currentFontSize = window.getComputedStyle(paragraph).fontSize;
          let newSize;

          if (action === 'increase') {
            newSize = parseFloat(currentFontSize) * 1.2 + 'px';
          } else if (action === 'decrease') {
            newSize = parseFloat(currentFontSize) * 0.8 + 'px';
          }

          paragraph.style.fontSize = newSize;
        });
      }


    </script>
  </head>
  <body>
    <div class="viewer page">
        <header class="header">
            <div class="left">
              
          <div class="logo"><a id="homeBtn" href="/">Dach | דא״ח</a></div>
              <!--<div class="menu-item">Community</div>
              <div class="menu-item">Texts</div>-->
            </div>
            <div class="right">
              
              <div class="hidden menu-btn loginBtn" id="loginBtn">Log in</div>
              <a href="mailto:info@dach.dev" class="menu-btn feedback">Feedback?</a>
            </div>
          </header>
          <div class="flex-container">
            <div class="left-box" id="resizableBox">
                
                <div class="tab-container">
                    <div class="tabs" onmousedown="startDrag(event)" ontouchstart="startDrag(event)" ondragstart="startDrag(event)" >
                      
                        <div class="tab hidden" id="tab0">שיעורים</div>
                        <div class="tab hidden" id="tab1">תרגומים</div>
                        <div class="tab hidden" id="tab2">קיצור</div>
                        <div class="tab">הערות</div>
                        <div class="tab-indicator"></div>
                    </div>
                    <div class="content footnotesCnt" id="content0">
                    
                    </div>
                    <div class="content hidden" id="content1">
						<div class="findReplace">
							<h3>Custom</h3>
							<div class="ctrls">
							  <div class="box">
								<div class="label">Search</div>
								<input type="text" id="searchTxt">
								<button id="searchBtn" class="btn green">Search</button>
							  </div>
							  <div class="box">
								<div class="label">Replace</div>
								<input type="text" id="replaceTxt">
								<button id="replaceBtn" class="btn red">Replace</button>
							  </div>
							  <button id="clearHighlights" class="btn">clear search highlights</button>
							  <div class="box">
								<button id="addPresetBtn" class="btn blue">Add Preset</button>
								
							</div>
							</div>
						  
							<div class="presets">
							  <div class="hdr">
								<h3>Preset List</h3>
								<div>
								  <label for="selectAllPresets">all</label>
								  <input type="checkbox" id="selectAllPresets">

								</div>
							  </div>
							  <div class="list presets" id="presetList">
								<!-- Dynamic items go here -->
							  </div>
							  <button id="removePresetBtn" class="btn danger">Remove Selected</button>
							  <br>
							</div>
						  
							<div class="ctrls">
							  <button id="searchBtnAll" class="btn green">Search</button>
							  <button id="replaceBtnAll" class="btn red">Replace</button>
							</div>
						  
							<div class="hdr">
							  <h3>Other Functions</h3>
							  <div>
								<label for="selectAllFunctions">all</label>
								<input type="checkbox" id="selectAllFunctions">
							  </div>
							</div>
							<div class="list fncs">
								<!--Same layout as presets,
								checbkox and label for each 
								(but no need to add or remove in HTML,
								all pre-defined in JS)-->
							</div>
							<div class="ctrls">
								<button id="executeFunctions" class="btn red">Execute</button>
							
							</div>
						  </div>
						  
                    
                      <div class="editSecrets hidden">

                        <!DOCTYPE html>
                        <html lang="en">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <style>
                                /* Basic styling for the form */
                                .form-row {
                                    margin-bottom: 10px;
                                    display: flex;
                                    flex-wrap: wrap;
                                }

                                /* Style the individual items within each row */
                                .form-item {
                                    flex: 1;
                        padding: 15px;
                                    margin-right: 10px;
                                    min-width: 0;
                                }

                                .horizontal-row .form-item:nth-child(3) {
                                    flex: 3;
                                }

                                input[type="submit"] {
                                    width: 100%;
                                }
                            </style>
                            <title>Your Simple Form</title>
                        </head>
                        <body>

                        
                        <form id="LOL" action="/submit-form" method="post">
                           
                            <div class="form-row horizontal-row">
                          
                            </div>

                            <div class="form-row">
                                <textarea name="Kitzur" id="Kitzur" placeholder="Kitzur" rows="4" class="form-item" ></textarea>
                            </div>
                            

                            <div class="form-row">
                                <input type="submit" value="Submit" class="form-item">
                            </div>
                        </form>

                        </body>
                        </html>

                    </div>
                  </div>
                    <div class="content hidden" id="content2">
             
                      <div class="editSecrets hidden">
                        <button id="transB">Translate with AI</button>
                        <button id="transBA">Translate active paragraph</button>
                        <br>
                        <input type="checkbox" id="isOld"><label for="isOld">
                          Use "Older" version?
                        </label>
                      </div>
                      <div class="translationProgress" id="translationProgress"></div>
                    </div>
                    <div class="content" id="content3">
                      <button class="btn" id="editBtn"> Edit</button>
                      <button class="btn" id="editBtnHTML"> Edit HTML</button>
                
                      <div class="special">
                        <label for="setSpecial">Special Sichos 16-17</label>
                        <input type="checkbox" id="setSpecial">
                      </div>
                        <div class="form-row horizontal-row">
                          
                        </div>
<!--
                        <h3>Paste Sicha Title</h3>
                        <div class="form-row">
                            <textarea name="Sicha Title HTML" 
                              id="sichaTitleInput"
                             placeholder="Paste title from google doc"
                              rows="4" class="form-item" ></textarea>
                        </div>
-->
                        <h3>Paste Sicha body from google doc</h3>
                        <div class="special">
                          <label for="setParenthesisMain">
                            Reverse Parenthesis for main text on parse??
                          </label>
                          <input checked type="checkbox" id="setParenthesisMain">
                        </div>
                        <div class="specialInputs regular hidden">
                          <div class="config">
                            <div>
                            <label for="boldFont"><b>bold</b>:</label>
                            <select id="boldFont">
                              <option value="font0">font0</option>
                              <option value="font1">font1</option>
                              <option value="font2">font2</option>
                              <option value="font3">font3</option>
                              <option value="font4">font4</option>
                              <option value="font5">font5</option>
                            </select>
                          </div>
                          <div>
                            <label for="supFont"> <sup>superscript</sup>:</label>
                            <select id="supFont">
                              <option value="font0">font0</option>
                              <option value="font1">font1</option>
                              <option value="font2">font2</option>
                              <option value="font3">font3</option>
                              <option value="font4">font4</option>
                              <option value="font5">font5</option>
                            </select>
                          </div>
                          <div>
                            <label for="plainFont"> plain:</label>
                            <select id="plainFont">
                              <option value="font0">font0</option>
                              <option value="font1">font1</option>
                              <option value="font2">font2</option>
                              <option value="font3">font3</option>
                              <option value="font4">font4</option>
                              <option value="font5">font5</option>
                            </select>
                          </div>
                          </div>
                          
                        <button class="btn" id="parseTextFromSpecial"> Parse Text</button>
                        
                      
                      </div>
                        <div class="form-row">
                            <textarea name="Sicha HTML" id="sichaInput"
                             placeholder="Paste sicha body from google doc"
                              rows="4" class="form-item" ></textarea>
                        </div>

                        <h3>Paste Sicha footnotes from google doc</h3>
                        <div class="special">
                          <label for="setParenthesisFoot">
                            Reverse Parenthesis for footnotes on parse??
                          </label>
                          <input checked type="checkbox" id="setParenthesisFoot">
                        </div>
                        <div class="specialInputs footnotes hidden">
                          <div class="config">
                            <div>
                            <label for="boldFontFootnotes"><b>bold</b>:</label>
                            <select id="boldFontFootnotes">
                              <option value="font0">font0</option>
                              <option value="font1">font1</option>
                              <option value="font2">font2</option>
                              <option value="font3">font3</option>
                              <option value="font4">font4</option>
                              <option value="font5">font5</option>
                              
                              <option value="font6">font6</option>
                              
                              <option value="font7">font7</option>
                            </select>
                          </div>
                        </div>
                        
                        <button class="btn" id="parseTextFromSpecialFootnotes"> Parse Text</button>
                      </div>
                        <div class="form-row">
                          <textarea name="Sicha Fotnotes HTML" id="sichaFootnoteInput"
                           placeholder="Paste footnotes from google doc"
                            rows="4" class="form-item" ></textarea>
                      </div>
                        
                      
                      <div class="form-row">
                        <label for="isPublic">Make Public</label>
                        <input type="checkbox" class="form-item" 
                        id="isPublic">
                    </div>
                        <div class="form-row">
                            <button class="form-item" id="sichaSubmit">
                              Submit Sicha
                              </button>
                        </div>
                    </div>
                </div>

            </div>
            <div class="right-box">
                <div class="app-bar">
                    <div class="app-barContent">
                        <div id="app-barButtons">
                        <!--<div id="indexButton" class="list toggle-button btn"></div>-->
                        <div class="menu-btn" disabled id="showEc">A</div>
                        <div id="settingsButton" class="settingsIcon invisible toggle-button btn"></div>
                       
                      </div>
                      <div class="appbar-title-container">
                        <div class="default-title" id="work_title"></div>
                        <!-- <div class="settings-expanded-title">Settings Title</div>
                        <div class="index-expanded-title">Index Title</div> -->
                    </div>
                    
                      <div id="app-barButtons" data-menu="true">
                        
                        
                        <div id="indexButton" class="list toggle-button btn"></div>
                        <div id="settingsButton" class="settingsIcon toggle-button btn">
                        </div>
                      </div>
                        
                    </div>
                    <div id="expanded">Content for the expanded div</div>
                  </div>
                  <div class="paragraph-content">
                    <div class="paragraph-container">
                      <div class="loader"></div>
                    </div>
                </div>
                
              <div id="errorReportD" class="hidden">
                <h4>Text</h4>
                <button id="mBold">Bold</button>
                
                <button id="mSup">Sup</button>
                <button id="errorReport">Report</button>
                <button id="errorCancel">Cancel</button>
              </div>
              
            </div>
        </div>
    </div>

    <div id="toast" class="hide">
      Toast Notification
    </div>

    <div id="right-click-menu">
      <ul>
        <li id="copy">&#128203; Copy Text</li>
        <li id="print">🖨️ Print</li>
        <li id="reportErrorBtn">&#9888; Report Error</li>
      </ul>
    </div>
    <script src="/viewer/js/script.js"></script>
    <script src="/scripts/login.js" type="module"></script>
    <script src="/viewer/viewerhighlight.js" type="module"></script>
    <script src="/viewer/sichaLoading.js" type="module"></script>
    
    <script src="/viewer/settingsMenu.js" type="module"></script>
    <script src="/viewer/js/main.js" type="module"></script>
    
  </script>
  </body>
  </html>
