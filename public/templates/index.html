<!--B"H-->
<!--B"H-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dach | דא״ח</title>
    <script src="/scripts/installEved.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
<header class="header">
    <div class="left">
      <div class="logo"><a id="homeBtn" href="/">Dach | דא״ח</a></div>
    </div>
    <div class="right">
      <div class="menu-btn hidden loginBtn" id="loginBtn">Log in</div>
      
    </div>

  </header>
    <!-- Content for the 'index' state -->
    <!-- Add your index content here -->
    <div class="index-main">
    <div class="index-body">
    
    <div class="index-container">
      
      <div class="loader"></div>
        
    </div>
    </div>
</div>
</div>

<script src="/scripts/login.js" type="module"></script>
<script type="module" src="/scripts/indexGet.js"></script>
<script type="module">
  
var p = location.pathname.split("/");
var ls = p[p.length-1];

function isStringNumber(str) {
    // Regular expression for pure numbers (0-9 only)
    const isPureNumbers = /^[0-9]+$/.test(str);
    
    // Regular expression for any Hebrew characters (Unicode range for Hebrew: U+0590 to U+05FF)
    const containsHebrew = /[\u0590-\u05FF]/.test(str);
    
    if (isPureNumbers) {
        return true;
    } else if (containsHebrew) {
        return false
    } else {
        return null
    }
}

var sichosPath = "books/Likkutei Sichos";

try {
  ls = decodeURIComponent(ls);
} catch(e){}

var isParsha = false;
if(isStringNumber(ls)) {
  sichosPath += "/TOC_VOL/";
} else {
  sichosPath += "/TOC_PARSHA/"
  isParsha = true;
}
var data = await getKeys(sichosPath+ls);
window.TOC = data;

setThings(data, (w) => `/likkutei-sichos/view/${ls}/${w.page}_${ls}`, isParsha)
</script>
</body>
</html>